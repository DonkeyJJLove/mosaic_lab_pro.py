# ğŸ§© Mosaic Structure Lab (AST â†’ 3D Honeycomb)

**Mosaic Structure Lab** to interaktywne laboratorium wizualizacji i nauczania struktur mozaikowych, w ktÃ³rym kod ÅºrÃ³dÅ‚owy w jÄ™zyku Python przeksztaÅ‚cany jest w trÃ³jwymiarowÄ… geometriÄ™ plastra miodu. Aplikacja pozwala nie tylko zobaczyÄ‡, jak z pojedynczych instrukcji i gaÅ‚Ä™zi drzewa skÅ‚adniowego (AST) wyÅ‚ania siÄ™ przestrzeÅ„ modularnych komÃ³rek, ale takÅ¼e jak â€” dziÄ™ki parametrowi abstrakcji `Î»` â€” moÅ¼na pÅ‚ynnie przechodziÄ‡ od poziomu mikro (szczegÃ³Å‚owe operacje) do poziomu makro (zgrupowane moduÅ‚y i relacje miÄ™dzy nimi).

W ten sposÃ³b uczy siÄ™ myÅ›leÄ‡ o kodzie nie jako o pÅ‚askim tekÅ›cie, lecz jako o **ontologicznej strukturze**, w ktÃ³rej logika systemÃ³w, teoria grafÃ³w i geometria naturalna (hexagonalna, honeycomb) spotykajÄ… siÄ™ w jednej wspÃ³lnej reprezentacji. Tak zbudowana mozaika staje siÄ™ zarÃ³wno narzÄ™dziem badawczym, jak i dydaktycznym: pokazuje, jak dziaÅ‚a ewolucja topologii w systemach zÅ‚oÅ¼onych, jak wizualizowaÄ‡ transformacje ontologiczne (TO), oraz jak czÅ‚owiek i agent-AI mogÄ… korzystaÄ‡ ze wspÃ³lnej przestrzeni symboliczno-geometrii do wymiany wiedzy.

---

## âœ¨ FunkcjonalnoÅ›ci

* **Analiza kodu Python (AST)** â€“ parser buduje graf zaleÅ¼noÅ›ci pomiÄ™dzy elementami kodu (funkcje, instrukcje, wyraÅ¼enia).
* **Wizualizacja w 3D** â€“ wÄ™zÅ‚y i krawÄ™dzie sÄ… rozmieszczane w przestrzeni zgodnie z reguÅ‚ami mozaiki (osie S i przekÄ…tne H). ObsÅ‚ugiwane sÄ… transformacje generatywne sterowane parametrem `Î»`.
* **Ewolucja topologiczna**:

  * maÅ‚e `Î»` â†’ peÅ‚ny detal (pojedyncze wÄ™zÅ‚y i krawÄ™dzie),
  * duÅ¼e `Î»` â†’ **supergraf**: grupy kontraktujÄ… siÄ™ w centroidy, a miÄ™dzy nimi powstajÄ… **super-krawÄ™dzie**,
  * proces odwzorowuje zasadÄ™ **mozaiki DARPA (mosaic/honeycomb)**.
* **Interaktywne sterowanie**:

  * suwak `Î»` (interpolacja detal â†” abstrakcja),
  * checkboxy (widocznoÅ›Ä‡ krawÄ™dzi S/H, etykiet, centroidÃ³w, obrysÃ³w grup),
  * parametry (rozmiar punktÃ³w, gruboÅ›Ä‡ linii, gÅ‚Ä™bokoÅ›Ä‡ drzewa, limit elementÃ³w),
  * opcja **Ewolucja topologii**,
  * prÃ³g intra-group (`Î»*`).
* **Stabilna geometria** â€“ wbudowane wyrÃ³wnanie proporcji pudeÅ‚ka 3D gwarantuje, Å¼e obraz nie â€oddychaâ€ przy zmianie `Î»`. Percepcyjnie zmienia siÄ™ **topologia**, a nie zoom.

---

## ğŸš€ Instalacja i uruchomienie

### Wymagania

* Python **3.9+**
* Biblioteki:

  * `tkinter` (zwykle wbudowane),
  * `matplotlib`,
  * `networkx`,
  * *(opcjonalnie)* `numpy` dla warstwy heksÃ³w w Meta-Å›wiecie.

Instalacja zaleÅ¼noÅ›ci:

```bash
pip install matplotlib networkx
# (opcjonalnie) pip install numpy
```

Uruchomienie:

```bash
python mosaic_lab_pro.py
```

---

## Spis treÅ›ci

* [Wymagania i uruchomienie](#ğŸš€-instalacja-i-uruchomienie)
* [PrzeglÄ…d zakÅ‚adek](#przeglÄ…d-zakÅ‚adek)
* [Architektura mozaiki S/H i TO](#architektura-mozaiki-sh-i-to)
* [Arytmetyka heksÃ³w i heurystyka A\*](#arytmetyka-heksÃ³w-i-heurystyka-a)
* [Renderowanie przez abstrakcjÄ™ (Î») i supergraf TO](#renderowanie-przez-abstrakcjÄ™-Î»-i-supergraf-to)
* [Inwarianty, walidacja i testy naukowe](#inwarianty-walidacja-i-testy-naukowe)
* [Sterowanie i skrÃ³ty](#sterowanie-i-skrÃ³ty)
* [Struktura kodu i zaleÅ¼noÅ›ci](#struktura-kodu-i-zaleÅ¼noÅ›ci)
* [Zastosowania: Agent-AI i Human-AI](#zastosowania-agent-ai-i-human-ai)
* [Rozszerzenia i dalsza praca](#rozszerzenia-i-dalsza-praca)
* [Licencja](#licencja)

---

## PrzeglÄ…d zakÅ‚adek

1. **Mosaic Lab+** â€“ manualne konstrukcje S/H, planowanie A\*, zapis PNG.
2. **Meta-Å›wiat (TO)** â€“ siatka BCC/TO w â€wireframeâ€.
3. **Przekroje 2D** â€“ ciÄ™cia XY/YZ/ZX.
4. **Symulacje (S/H)** â€“ budowa artefaktÃ³w z klawiatury, wymuszony parytet.
5. **AST Lab** â€“ graf kodu jako mozaika: syntaks (S), semantyka (H), abstrakcja (Î»), supergraf TO.

---

## Architektura mozaiki S/H i TO

Scena dziaÅ‚a w kratownicy:

$$
\mathcal{L}_2=\{(x,y,z)\in\mathbb{Z}^3:\ x\equiv y\equiv z\pmod 2\}.
$$

* **Porty S (6)**: `(Â±2,0,0)`, `(0,Â±2,0)`, `(0,0,Â±2)`
* **Porty H (8)**: `(Â±1,Â±1,Â±1)`

Warstwa TO wizualizuje **centra komÃ³rek** BCC/TO oraz ich kwadraty i heksy w przekrojach.

---

## Arytmetyka heksÃ³w i heurystyka A\*

* **Krok S** redukuje \$L1 \leq 2\$, koszt \$\rho\_S=\frac{w\_S}{2}\$.
* **Krok H** redukuje \$L1 \leq 3\$, koszt \$\rho\_H=\frac{w\_H}{3}\$.
* Heurystyka A\* koryguje parytet i zachowuje admissibility/consistency.

Planer `astar` uÅ¼ywa 14 sÄ…siadÃ³w i walidacji (`validate_path`).

---

## Renderowanie przez abstrakcjÄ™ (Î») i supergraf TO

* **S**: parentâ†’child, siblingâ†’next.
* **H**: Useâ†’Def, argâ†’Func.
* Grupowanie: wg gÅ‚Ä™bokoÅ›ci, typu lub Use-Def.
* Interpolacja:

$$
p_\lambda(n)=\mathrm{lerp}\big(p_{\text{detal}}(n),\ \text{anchor}(n),\ \lambda\big).
$$

* \$\lambda=0\$ â†’ detal,
* \$\lambda=1\$ â†’ komÃ³rki i mosty (supergraf TO).

---

## Inwarianty, walidacja i testy naukowe

* Parytet \$x\equiv y\equiv z\$.
* LegalnoÅ›Ä‡ krawÄ™dzi (S/H).
* CiÄ…gÅ‚oÅ›Ä‡ Î» (brak skokÃ³w).
* Stabilny box 3D.
* Raport heurystyki (`empirical_heuristic_report`) = brak naruszeÅ„ admissibility.

---

## Sterowanie i skrÃ³ty

**Symulacje (S/H):**

* StrzaÅ‚ki â€“ ruchy osiowe (S).
* `Alt` + strzaÅ‚ki â€“ ruchy ukoÅ›ne (H).
* `F1â€“F3` â€“ wybÃ³r osi dominujÄ…cej.
* Spacja â€“ reset.

**AST Lab:**

* Edytuj kod po lewej, `Ctrl+Enter`.
* Suwak `Î»`, prÃ³g `Î»*`, tryb grupowania.
* Opcje: centroidy, bbox, limity gÅ‚Ä™bokoÅ›ci.

---

## Struktura kodu i zaleÅ¼noÅ›ci

* **Geometria**: `H_VECS`, `S_VECS`, `edge_type`.
* **Planer**: `Laws`, `astar`.
* **Scena 3D**: `Scene3D`.
* **Meta-Å›wiat (TO)**: kwadraty i heksy.
* **Symulacje**: `InputRouter`.
* **AST Lab**: `AstGraph`, `compute_meta_layers`, `build_supergraph`, `draw_edges_evolving`.

---

## Zastosowania: Agent-AI i Human-AI

* **WspÃ³lna geometria**: ten sam model 14-portowy.
* **Skalowanie poznawcze**: parametr `Î»` = â€zoom kognitywnyâ€.
* **Mosty semantyczne**: Useâ†’Def i argâ†’Func jako â€belki Hâ€.
* **Supergraf TO**: warstwa do eksploracji i XAI.
* **BezpieczeÅ„stwo**: parytet + admissible heurystyka â†’ brak bÅ‚Ä™dÃ³w geometrycznych.

---

## Licencja

Apache License 2.0
Copyright Â© 2025

